<plantilla>

#set($impresoEfectivo = false)
#foreach ($pago in $ticket.getPagos())

	<!--	Si es efectivo y hay que devolver cambio, mostrar el importe entregado en efectivo -->
	#if(${pago.getCodMedioPago().equals("0000")})
		#if(!$impresoEfectivo)
			#set($entregadoEfectivo = $ticket.getTotales().getEntregado())
			#foreach ($pag in $ticket.getPagos() )
				#if(!$pag.getCodMedioPago().equals("0000"))
					#set($entregadoEfectivo = $entregadoEfectivo.subtract($pag.getImporte()))
				#end
			#end
			<linea>
				<texto size="31" align="right">${pago.getDesMedioPago()}</texto>
				<texto size="10" align="right">${entregadoEfectivo.setScale(2, 4)}$divisa</texto>
			</linea>
			#set($impresoEfectivo = true)
		#end
	#else
		<linea>
			<texto size="31" align="right">${pago.getDesMedioPago()}</texto>
			<texto size="10" align="right">${pago.getImporteAsString()}$divisa</texto>
		</linea>
	#end

	<!-- Si el medio de pago es tarjeta (sipay)	-->
	#if(${pago.getCodMedioPago().equals("0010")})
		#set($esBoletaCompleta = false)
		#parse("./plantillas/detalle_pagos_boletas_sipay_pt.xml")
	#end
#end
</plantilla>